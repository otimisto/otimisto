def producer:
  for x:
    compute
def consumer:
  for y:
    for z:
      compute
